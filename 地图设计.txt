《迷雾森林：月光水晶》简化版地图
========================================

4×4网格地图（坐标系统）
------------------------

     列0          列1          列2           列3
行0  [入口]  ---- [森林小径] ---- [森林深处] ---- [废弃小屋]
      |             |             |             |
      |             |             |             |
行1  [药草房] ---- [岔路口]  ---- [武器库]  ---- [密室门🚪]
    ★生命药水        |             ★炸弹x2        |
      |             |             |             |
行2  [水池]   ---- [水池]    ---- [隐秘通道] ---- [密室]
      |             |             |           ★月光水晶
      |             |             |             |
行3  [传送门] ---- [祭坛房]  ---- [仪式前厅] ---- [守卫室]
    🎯目标         ★放水晶


图例说明
--------
★ = 固定道具位置
🚪 = 需要钥匙才能通过的门
🎯 = 游戏目标位置
---- 或 | = 可通行的路径


固定元素位置表
--------------
道具：
- 钥匙：森林深处 (2,0)
- 月光水晶：密室 (3,2)
- 炸弹×2：武器库 (2,1)
- 生命药水：药草房 (0,1)

NPC（阶段2实现）：
- 精灵：密室门前 (3,1)
- 守卫者：祭坛房 (1,3)

特殊位置：
- 起点：入口 (0,0)
- 密室门：(3,1) → (3,2) 需要钥匙
- 祭坛：祭坛房 (1,3) 需要放置水晶
- 终点：传送门 (0,3)


房间连接关系详细列表
--------------------

入口 (0,0):
  → east: 森林小径 (1,0)
  → south: 药草房 (0,1)

森林小径 (1,0):
  → west: 入口 (0,0)
  → east: 森林深处 (2,0)
  → south: 岔路口 (1,1)

森林深处 (2,0) ★钥匙:
  → west: 森林小径 (1,0)
  → east: 废弃小屋 (3,0)
  → south: 武器库 (2,1)

废弃小屋 (3,0):
  → west: 森林深处 (2,0)
  → south: 密室门 (3,1)

药草房 (0,1) ★生命药水:
  → north: 入口 (0,0)
  → east: 岔路口 (1,1)
  → south: 水池 (0,2)

岔路口 (1,1):
  → north: 森林小径 (1,0)
  → west: 药草房 (0,1)
  → east: 武器库 (2,1)
  → south: 水池 (1,2)

武器库 (2,1) ★炸弹x2:
  → north: 森林深处 (2,0)
  → west: 岔路口 (1,1)
  → east: 密室门 (3,1)
  → south: 隐秘通道 (2,2)

密室门 (3,1) 🚪需要钥匙:
  → north: 废弃小屋 (3,0)
  → west: 武器库 (2,1)
  → south: 密室 (3,2) [需要钥匙]

水池 (0,2):
  → north: 药草房 (0,1)
  → south: 传送门 (0,3)

水池 (1,2):
  → north: 岔路口 (1,1)
  → east: 隐秘通道 (2,2)
  → south: 祭坛房 (1,3)

隐秘通道 (2,2):
  → north: 武器库 (2,1)
  → west: 水池 (1,2)
  → east: 密室 (3,2)
  → south: 仪式前厅 (2,3)

密室 (3,2) ★月光水晶:
  → north: 密室门 (3,1) [需要钥匙从北边进入]
  → west: 隐秘通道 (2,2)
  → south: 守卫室 (3,3)

传送门 (0,3) 🎯胜利出口:
  → north: 水池 (0,2)
  → east: 祭坛房 (1,3)

祭坛房 (1,3) ★放置水晶:
  → north: 水池 (1,2)
  → west: 传送门 (0,3)
  → east: 仪式前厅 (2,3)

仪式前厅 (2,3):
  → north: 隐秘通道 (2,2)
  → west: 祭坛房 (1,3)
  → east: 守卫室 (3,3)

守卫室 (3,3):
  → north: 密室 (3,2)
  → west: 仪式前厅 (2,3)


最短通关路线（阶段1：无敌人版本）
----------------------------------

步骤 | 当前位置      | 动作          | 下一位置      | 说明
-----|--------------|---------------|--------------|-------------
1    | 入口(0,0)    | move east     | 森林小径(1,0) | 开始游戏
2    | 森林小径     | move east     | 森林深处(2,0) | 前往钥匙位置
3    | 森林深处     | take key      | 森林深处(2,0) | ★拿到钥匙
4    | 森林深处     | move south    | 武器库(2,1)   | 前往武器库
5    | 武器库       | take bomb     | 武器库(2,1)   | ★拿炸弹1
6    | 武器库       | take bomb     | 武器库(2,1)   | ★拿炸弹2
7    | 武器库       | move east     | 密室门(3,1)   | 到达密室门
8    | 密室门       | use key       | 密室门(3,1)   | 🚪开门
9    | 密室门       | move south    | 密室(3,2)     | 进入密室
10   | 密室         | take crystal  | 密室(3,2)     | ★拿到水晶
11   | 密室         | move south    | 守卫室(3,3)   | 前往祭坛
12   | 守卫室       | move west     | 仪式前厅(2,3) | 继续前往祭坛
13   | 仪式前厅     | move west     | 祭坛房(1,3)   | 到达祭坛
14   | 祭坛房       | use crystal   | 祭坛房(1,3)   | ★放置水晶
15   | 祭坛房       | move west     | 传送门(0,3)   | 🎯到达传送门
16   | 传送门       | [自动检测]    | 游戏结束      | ✓胜利！

总回合数：16回合


替代路线（从密室到祭坛）
------------------------

路线A（最短）：密室 → 守卫室 → 仪式前厅 → 祭坛房 (3步)
路线B（中等）：密室 → 隐秘通道 → 仪式前厅 → 祭坛房 (3步)
路线C（绕路）：密室 → 隐秘通道 → 水池 → 祭坛房 (3步)


设计要点
--------

1. ✓ 固定出生点：入口(0,0)
2. ✓ 固定道具位置：无随机刷新
3. ✓ 固定NPC位置：精灵和守卫位置不变
4. ✓ 无时间概念：回合制，不计时
5. ✓ 无距离概念：移动一次直接到达相邻房间
6. ✓ 无视野系统：可以看到当前房间的所有内容
7. ✓ 可确定性通关：每次运行结果一致
8. ✓ 简单但不过分简单：16个房间，需要策略规划


阶段1实现检查清单
------------------

[√] 地图数据结构（4×4网格）
[√] 房间连接关系（双向通行）
[√] 玩家移动机制（north/south/east/west）
[√] 道具拾取机制（take命令）
[√] 道具使用机制（use命令）
[√] 门锁机制（钥匙开门）
[√] 祭坛机制（放置水晶）
[√] 胜利检测（到达传送门且激活祭坛）
[√] 基础命令（look/inventory/help）
[√] 可通关测试文件（solution.txt）


阶段2待实现功能
----------------

[ ] 战斗系统（回合制）
[ ] 精灵AI（固定位置，触发战斗）
[ ] 守卫AI（固定位置，触发战斗）
[ ] 生命值系统
[ ] 炸弹战斗功能
[ ] 生命药水恢复功能
[ ] 失败条件（生命值为0）
